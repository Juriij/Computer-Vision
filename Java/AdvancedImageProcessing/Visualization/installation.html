<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Installation of Control System Visualization</title>
    <link rel="icon" href="favicon.ico">
    <link href="font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <style>
        table, th, td {
          border: 1px solid black;
        }
    </style>
    <script src="scripts/jquery-3.1.1.min.js"></script>
    <script>
    $(function(){
      $("#includedContent").load("upgrade_manual.html");
    });
    </script>
</head>
<body>
    <h1>Visualization Control Application</h1>
    <p>
       Visualization control application is a real-time program for DCU controller.
    </p>
    <div id="includedContent"></div>
    <h1>Content</h1>
    <ul>
        <li><a href="#system_requirements">System requirements</a></li>
        <li><a href="#database_settings">Database settings</a></li>
        <li><a href="#change_project">Change project</a></li>
        <li><a href="help.html">Help
            <i class="fa fa-external-link" aria-hidden="true"></i>
            </a></li>
    </ul>
    <h2><a name="system_requirements">System requirements</a></h2>
    <ul>
    <li>Apache <strong>2.4+</strong></li>
    <li>PHP <strong>5.5.0</strong></li>
    <li>Pre upgrade je potrebny Zip archive <pre>sudo apt-get install php7.0-zip</pre> potom restart apache</li>
    <li>Pre prácu s XML je potrebny simpleXML extension, This XML module is not provided on a default php (v7) install on Debian GNU/Linux stretch (9.3)<pre>sudo apt-get install php-xml</pre> potom restart apache</li>
    <li style="font-size:0.6em;">ak je PHP <5.3.0 treba sudo apt-get install php5-mysqlnd</li>
    </ul>

    <h3>Linux</h3>
    <ul>
    <li>Copy <strong>visualization.conf</strong> to etc/apache2/conf-enabled</li>
    <li>enable mod_headers: <strong>sudo a2enmod headers</strong></li>
    <li>enable mod_expires: <strong>sudo a2enmod expires</strong></li>
    <li>In <strong>etc/php/7.2/apache2/php.ini</strong> set <strong>max_input_vars = 10000</strong></li>
    <li>In <strong>etc/php/7.2/apache2/php.ini</strong> set <strong>session.cache_expire = 525600;=365days</strong></li>
    <li>restart apache: <strong>sudo service apache2 restart</strong></li>
    <li>give full permissions for all files and directories: <strong>cd /var/www/html    sudo chmod -R 777 . </strong>(aj tú bodku!)</li>
    <li>UBUNTU 2022 if problem with timezones: <strong>mysql_tzinfo_to_sql /usr/share/zoneinfo | mysql -u root mysql -p</strong></li>
    </ul>

    <h3>Windows</h3>
    <ul>
    <li>In Wampstack program go to Manage servers -> Configure -> Open Conf file (httpd.conf)
        <ul>
        <li>insert at the end of file <strong>Include "C:\path-to-your-visualization\visualization.conf"</strong></li>
        <li>enable mod_headers: <strong>uncomment LoadModule headers_module</strong></li>
        <li>enable mod_expires: <strong>uncomment LoadModule expires_module</strong></li>
        </ul>
    </li>
    <li>In <strong>C:\Bitnami\wampstack\php\php.ini</strong>
        <ul>
        <li>set <strong>max_input_vars = 10000</strong></li>
        <li>recommended: <strong>display_errors = On</strong></li>
        <li>set <strong>opcache.enable = 0</strong></li>
        </ul>
    <li>restart apache</li>
    </ul>

    <h2><a name="database_settings">Database settings</a></h2>
    <p>
        Database credentials are in file <strong>./settings_db.php</strong> (for backward compatibility you can use also ./visdba0.php)
    </p>

    <h2><a name="change_project">Change project</a></h2>
    <ul>
    <li>All project files and images are in <strong>./process</strong></li>
    <li>In DCU design tool (SciLab, Matlab) go to Menu -> Visualisation setup -> Set visualization server</li>
    <li>restart apache</li>
    </ul>

</body>
</html>
